
# Python-скрипт для сортировки фотографий по распознанным номерам

Этот скрипт обрабатывает изображения из указанной директории (`source_photos`), ищет указанные номера на фотографиях и перемещает файлы:
- в папку `valid_photos`, если номер найден;
- в папку `not_found`, если номер не найден.

Скрипт работает как на macOS, так и на Windows.

---

## Предварительные требования

1. **Установка Python**
   - **Для macOS**:
     Убедитесь, что установлен Python версии 3.9 или выше. Установите Python через Homebrew:
     ```bash
     brew install python
     ```
     Проверьте версию Python:
     ```bash
     python3 --version
     ```
   - **Для Windows**:
     Скачайте и установите Python с [официального сайта](https://www.python.org/). Во время установки убедитесь, что выбрана опция "Add Python to PATH".

2. **Убедитесь, что установлен pip**
   Проверьте и обновите pip (менеджер пакетов Python):
   ```bash
   python3 -m ensurepip --upgrade
   python3 -m pip install --upgrade pip
   ```

---

## Установка

### 1. Склонируйте или скачайте репозиторий
Склонируйте проект с GitHub или скачайте скрипт:
```bash
git clone https://github.com/ваш-аккаунт/ваш-репозиторий.git
cd ваш-репозиторий
```

### 2. Установите необходимые зависимости
Скрипт требует следующих библиотек Python:
- `opencv-python-headless`
- `easyocr`
- `torch`
- `torchvision`
- `torchaudio`

Установите все зависимости из файла `requirements.txt`:
```bash
pip install -r requirements.txt
```

Если у вас GPU и CUDA, убедитесь, что версия `torch` соответствует вашей версии CUDA. Например, для CUDA 11.8 добавьте в `requirements.txt`:
```plaintext
--extra-index-url https://download.pytorch.org/whl/cu118
```

---

## Использование

1. Поместите фотографии, которые нужно обработать, в папку `source_photos`.

2. Откройте файл `main.py` и укажите список номеров, которые вы хотите найти:
   ```python
   marathon_numbers = ["1745", "1234", "5678"]  # Замените на ваши номера
   ```

3. Запустите скрипт:
   ```bash
   python main.py
   ```

4. После выполнения:
   - Фотографии с указанными номерами будут перемещены в папку `valid_photos`.
   - Остальные фотографии будут перемещены в папку `not_found`.
   - Прогресс обработки будет отображаться в консоли.

---

## Структура директорий

После выполнения скрипта структура проекта будет выглядеть так:
```
project/
├── source_photos/        # Исходные фотографии
├── valid_photos/         # Фотографии с найденными номерами
├── not_found/            # Фотографии без указанных номеров
└── main.py               # Основной скрипт
```

---

## Примечания

- Скрипт использует EasyOCR с поддержкой GPU (если доступно). Для работы с GPU убедитесь, что у вас установлены необходимые драйверы CUDA.
- Для повышения точности убедитесь, что изображения имеют высокое качество и минимальный фоновой шум.
- Если возникнут вопросы или проблемы, обратитесь за помощью или создайте issue в репозитории.

---
